<!doctype html>
<html>
  <head><link rel="stylesheet" href="http://kodaktor.info/get?css=a828245">
    <title>Goss Chat</title>
  </head>
  <body>
    <h1>Node.js chat by Ilia Goss!!!</h1>
    <ul id="messages"></ul>
    <div id="form">
      <input id="m" autocomplete="off" /><button>Send</button>
    </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script>
    var socket = io(); //создать глобальную переменную с сокетом
    $('button').on("click", function(){
      socket.emit('chat message', $('#m').val()); //послать сообщение серверной части
      $('#m').val(''); //очистить поле ввода сообщения
    });

    $('#m').on("keyup",function(event){
       if (event.which == 13) $('button').click();
    });

    //обработка уведомления от сервера
    socket.on('chat message push', function(msg){
       $('#messages').append($('<li>').html(msg));
    });

  </script>

  </body>
</html>